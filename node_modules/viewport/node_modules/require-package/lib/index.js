// Generated by CoffeeScript 1.4.0
var RequirePackage;

module.exports = RequirePackage = (function() {

  function RequirePackage() {}

  RequirePackage.mount = function(conf) {
    var script, _i, _len, _ref, _results;
    if (conf == null) {
      conf = {};
    }
    if (!(conf.app && (typeof conf.app.use === 'function' || typeof conf.app.get === 'function'))) {
      throw 'requires conf.app as connect / express based app instance';
    }
    if (!conf.name) {
      throw 'requires conf.name as package name';
    }
    if (!conf.src) {
      throw 'requires conf.src as path to package scripts';
    }
    if (!conf.scripts) {
      conf.scripts = ['directory/script.js'];
    }
    if (typeof conf.app.get === 'function') {
      _ref = conf.scripts;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        script = _ref[_i];
        console.log('serving script:', "/" + conf.name + "/" + script);
        _results.push(conf.app.get("/" + conf.name + "/" + script, function(req, res) {
          res.header({
            'Content-Type': 'text/javascript'
          });
          return res.send("console.log('okgood')");
        }));
      }
      return _results;
    }
  };

  return RequirePackage;

})();
