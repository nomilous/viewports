// Generated by CoffeeScript 1.4.0
var define;

if (typeof define !== 'function') {
  define = require('amdefine')(module);
}

define(function() {
  var service;
  return service = {
    connected: false,
    handle: function(name, socket) {
      socket.on('connect', function() {
        if (!service.connected) {
          service.connected = true;
          service.name = name;
          service.originalSession = socket.socket.sessionid;
          return socket.emit('viewport:create', {
            sessionid: service.originalSession,
            name: service.name
          });
        }
        return socket.emit('viewport:reconnect', {
          sessionid: service.originalSession,
          newsessionid: socket.socket.sessionid,
          name: service.name
        });
      });
      return socket.on('viewport:config', function(data) {
        return console.log('viewport:config', data);
      });
    }
  };
});
