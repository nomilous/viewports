// Generated by CoffeeScript 1.4.0
var RequirePackage, ViewportProxy, path, requirePackage, viewport, viewportProxy;

path = require('path');

ViewportProxy = require('./viewport_proxy');

viewportProxy = new ViewportProxy;

RequirePackage = require('require-package');

requirePackage = new RequirePackage;

module.exports = viewport = {
  mount: function(conf) {
    conf.name = 'viewport';
    conf.src = path.join(__dirname, '../lib');
    conf.scripts = ['main.js', 'viewport.js', 'uplink.js', 'controls.js', 'view.js', 'input/keyboard.js', 'input/mouse.js'];
    requirePackage.mount(conf);
    return conf.sockets.on('connection', function(socket) {
      return viewport.bind(socket);
    });
  },
  bind: function(socket) {
    return viewportProxy.bind(socket);
  }
};
