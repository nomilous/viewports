// Generated by CoffeeScript 1.4.0
var Stack;

module.exports = Stack = {
  trace: function(object) {
    var count, line, location, parts, skip, stack, _i, _len, _ref;
    stack = [];
    skip = 2;
    count = 0;
    try {
      _ref = Error.apply(this).stack.split('\n');
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        line = _ref[_i];
        if (line === 'Error') {
          continue;
        }
        if (!(++count > skip)) {
          continue;
        }
        parts = line.match(/^.*at (.*)\((.*)\)/);
        location = parts[2].match(/(.*)\:(.*)\:(.*)/);
        stack.push({
          call: parts[1].trim(),
          file: location[1],
          line: parseInt(location[2]),
          col: parseInt(location[3])
        });
      }
    } catch (error) {

    }
    return stack;
  }
};
