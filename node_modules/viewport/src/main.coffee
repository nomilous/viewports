require [

    './uplink', 
    './view', 
    './controls'

], (uplink, view, controls) ->

    class Viewport

        constructor: (config) -> 

            throw 'missing config' unless config

            container = config.container || throw 'missing container'
            socket    = config.socket    || throw 'viewport missing socket'
            group     = config.group     || throw 'viewport missing group'


            @uplink = uplink.init 

                group: group
                type: 'socket.io'
                socket: socket

            @controls = controls.init 

                uplink: uplink
                container: container

            @view = view.init

                uplink: uplink
                container: container

