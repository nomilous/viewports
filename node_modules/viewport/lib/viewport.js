// Generated by CoffeeScript 1.4.0
var define;

if (typeof define !== 'function') {
  define = require('amdefine')(module);
}

define(['./uplink', './view', './controls'], function(uplink, view, controls) {
  return {
    init: function(config) {
      var container, group, socket;
      if (!config) {
        throw 'missing config';
      }
      container = config.container || (function() {
        throw 'missing container';
      })();
      socket = config.socket || (function() {
        throw 'viewport missing socket';
      })();
      group = config.group || (function() {
        throw 'viewport missing group';
      })();
      return {
        uplink: uplink.init({
          group: group,
          type: 'socket.io',
          socket: socket
        }),
        controls: controls.init({
          uplink: uplink,
          container: container
        }),
        view: view.init({
          uplink: uplink,
          container: container
        })
      };
    }
  };
});
