// Generated by CoffeeScript 1.4.0
var define;

if (typeof define !== 'function') {
  define = require('amdefine')(module);
}

define(function() {
  var service;
  return service = {
    connected: false,
    handle: function(name, socket) {
      return socket.on('connect', function() {
        if (!service.connected) {
          service.connected = true;
          return socket.emit('viewport:connect', {
            name: name
          });
        }
        return socket.emit('viewport:reconnect', {
          name: name
        });
      });
    }
  };
});
