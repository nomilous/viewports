if typeof define isnt 'function' then define = require('amdefine')(module)

define -> 

    service = 

        init: (config) -> 

            service.uplink = config.uplink

            # container = config.container
            # container.addEventListener 'keydown', service.onKeydown, false
            # container.addEventListener 'keyup', service.onKeyup, false
            # 
            # dunno why not... dont care yet

            document.addEventListener 'keydown', service.onKeydown, false
            document.addEventListener 'keyup', service.onKeyup, false


        include: (e) -> 

            type: e.type
            keyCode: e.keyCode

        onKeydown: (e) -> 

            service.uplink.emit 'viewport:event', service.include e

        onKeyup: (e) -> 

            service.uplink.emit 'viewport:event', service.include e

