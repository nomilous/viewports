if typeof define isnt 'function' then define = require('amdefine')(module)

define -> 

    service = 

        init: (config) ->

            service.name   = config.name
            service.type   = config.type
            service.socket = config.socket

            #
            # TODO: the following, according to type, later
            #   

            service.socket.on 'connect', ->

                service.socket.emit 'viewport:connect' 

                    name: service.name

            service.socket.on 'viewport:connect:ok', (data) -> 

                console.log 'viewport:connect:ok', data


        emit: (event, data) -> service.socket.emit event, data
        on: (event, cb)-> service.socket.on event, cb
