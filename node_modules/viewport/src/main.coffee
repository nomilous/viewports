#
# Viewport clientside (requirejs package root)
# 

define [

    './uplink', 
    './view', 
    './controls'

], (uplink, view, controls) ->

    class Viewport

        constructor: (config) -> 

            throw 'Viewport requires config' unless config

            container = config.container || throw 'Viewport requires config.container'
            socket    = config.socket    || throw 'Viewport requires config.socket'
            group     = config.group     || throw 'Viewport requires config.group'


            @uplink = uplink.init 

                group: group
                type: 'socket.io'
                socket: socket

            @controls = controls.init 

                uplink: uplink
                container: container

            @view = view.init

                uplink: uplink
                container: container
