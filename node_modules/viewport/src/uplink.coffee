if typeof define isnt 'function'
    define = require('amdefine')(module)

define -> 

    service = 

        connected: false

        handle: (name, socket) ->

            socket.on 'connect', ->

                unless service.connected

                    service.connected = true

                    return socket.emit 'viewport:connect' 

                        name: name

                return socket.emit 'viewport:reconnect'

                    name: name



